@import url("https://cdn.jsdelivr.net/gh/orioncactus/pretendard/dist/web/static/pretendard.css");
@import url("flatpickr/dist/flatpickr.min.css");
@import "tailwindcss";

:root {
  --bg-dark: #1a1a2e;
  --primary: #8a2be2;
  --light: #e6e6fa;
  --text: #ffffff;
}

@theme inline {
  --color-background: var(--bg-dark);
  --color-foreground: var(--text);
}

html,
body {
  color: black;
  font-family: "Pretendard", ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial,
    "Apple Color Emoji", "Segoe UI Emoji";
  /* iOS 입력 포커스 확대 방지: 시스템 텍스트 자동 확대 비활성화 */
  -webkit-text-size-adjust: 100%;
}

@utility glass-input {
  background-color: rgb(147 51 234 / 0.08);
  -webkit-backdrop-filter: blur(10px) brightness(105%) saturate(105%);
  backdrop-filter: blur(10px) brightness(105%) saturate(105%);
  border: 1px solid rgb(147 51 234 / 0.25);
}

@utility glass-button {
  background-color: rgb(126 34 206); /* purple-700 */
  color: white;
}

/* Reusable glass/liquid-glass card utility */
@utility glass-card {
  background-color: rgb(255 255 255 / 0.08);
  border: 2px solid rgb(255 255 255 / 0.7);
  -webkit-backdrop-filter: blur(9px) brightness(110%) saturate(120%);
  backdrop-filter: blur(9px) brightness(110%) saturate(120%);
  padding: 20px;
  transition: opacity 0.26s ease-out;
  border-radius: 24px;
  position: relative;
  overflow: hidden;
}

/* Inner subtle inset shadow inside the border */
.glass-card::before {
  content: "";
  position: absolute;
  inset: 0;
  border-radius: inherit;
  pointer-events: none;
  box-shadow: inset 0 0 4px rgb(0 0 0 / 0.1);
}

/* Segmented control option (radio button visual) */
@utility segmented-option {
  @apply px-6 py-[13px] border border-black/10 bg-white text-neutral-700 placeholder-black/60 focus:outline-none peer-checked:bg-purple-300 peer-checked:border-black/20 peer-checked:text-neutral-900 peer-checked:font-medium;
}

/* --- Step transition animations --- */
@keyframes step-fade-out {
  0% {
    opacity: 1;
    transform: translateY(0);
  }
  100% {
    opacity: 0;
    transform: translateY(-6px);
  }
}

@keyframes step-fade-in {
  0% {
    opacity: 0;
    transform: translateY(6px);
  }
  100% {
    opacity: 1;
    transform: translateY(0);
  }
}

.step-fade-out {
  animation: step-fade-out 0.5s ease forwards;
}

.step-fade-in {
  animation: step-fade-in 0.7s ease;
}

/* --- Mobile input zoom prevention & picker scroll control --- */
/* iOS Safari에서 폼 컨트롤 포커스 시 확대되는 문제는 폰트 크기가 16px 미만일 때 주로 발생 */
input,
select,
textarea {
  font-size: 16px;
}

/* 전화번호 등 숫자 입력 시에도 확대 방지 */
input[type="tel"],
input[type="text"],
input[type="search"],
input[type="email"],
input[type="number"],
input[type="password"] {
  font-size: 16px;
}

/* 모바일 휠/피커 컨테이너에서 바운스/체이닝 스크롤 방지 */
@utility no-overscroll {
  overscroll-behavior: contain;
}

/* 스크롤 스냅으로 휠 항목 스크롤 감도 보조 (피커 내부에 적용 가능) */
@utility wheel-snap-y {
  scroll-snap-type: y mandatory;
}

/* react-mobile-picker 기본 가이드 라인 숨김 */
.picker-no-guides > div:last-child > div {
  /* 라이브러리가 중앙선 2개를 절대 위치로 그려주므로 투명화 */
  background: transparent !important;
}

/* flatpickr 기본 스타일 */
/* 보라색 계열 테마 커스텀 */
.flatpickr-calendar {
  border: 1px solid rgb(147 51 234 / 0.2);
  box-shadow: 0 10px 30px rgb(147 51 234 / 0.18);
}
.flatpickr-months .flatpickr-month,
.flatpickr-current-month .numInputWrapper:hover {
  background: rgb(147 51 234 / 0.06);
}
.flatpickr-day.selected,
.flatpickr-day.startRange,
.flatpickr-day.endRange,
.flatpickr-day.selected:hover {
  background: rgb(147 51 234);
  border-color: rgb(147 51 234);
  color: white;
}
.flatpickr-day.today {
  border-color: rgb(147 51 234);
}
.flatpickr-weekday {
  color: rgb(126 34 206);
}
.flatpickr-monthDropdown-months,
.numInputWrapper input,
.flatpickr-time input {
  color: #111827; /* neutral-900 */
}

/* flatpickr 월 드롭다운 option에 보라색 배경 적용 */
select.flatpickr-monthDropdown-months option.flatpickr-monthDropdown-month,
option.flatpickr-monthDropdown-month {
  background-color: rgb(147 51 234);
  color: #000000;
}

/* hover/selected 상태 스타일 */
select.flatpickr-monthDropdown-months option.flatpickr-monthDropdown-month:hover {
  background-color: #b4a0e4;
  color: #000000;
}
select.flatpickr-monthDropdown-months option.flatpickr-monthDropdown-month:checked,
select.flatpickr-monthDropdown-months option.flatpickr-monthDropdown-month[selected] {
  background-color: rgb(126 34 206);
  color: #ffffff;
}

/* Animated floating gradient orbs */
@keyframes orb-move-a {
  0% {
    transform: translate3d(0, 0, 0) scale(1);
  }
  25% {
    transform: translate3d(20vw, -5vh, 0) scale(1.05);
  }
  50% {
    transform: translate3d(0, -10vh, 0) scale(1);
  }
  75% {
    transform: translate3d(-15vw, 5vh, 0) scale(0.98);
  }
  100% {
    transform: translate3d(0, 0, 0) scale(1);
  }
}

@keyframes orb-move-b {
  0% {
    transform: translate3d(0, 0, 0) scale(1);
  }
  33% {
    transform: translate3d(-10vw, 8vh, 0) scale(1.04);
  }
  66% {
    transform: translate3d(15vw, -6vh, 0) scale(0.97);
  }
  100% {
    transform: translate3d(0, 0, 0) scale(1);
  }
}

.orb {
  filter: blur(100px);
  pointer-events: none;
  position: absolute;
  border-radius: 9999px;
  opacity: 0.6;
}

.orb-a {
  animation: orb-move-a 40s linear infinite;
}
.orb-b {
  animation: orb-move-b 55s linear infinite;
}

/* Buttons, inputs focus states */
.focus-ring-primary:focus {
  outline: none;
  box-shadow: 0 0 0 3px rgb(138 43 226 / 0.4);
  border-color: var(--primary);
}

/* 텍스트 선택 비활성화 - input과 textarea 제외 */
* {
  user-select: none;
  -webkit-user-select: none;
  -moz-user-select: none;
  -ms-user-select: none;
}

input,
textarea {
  user-select: text;
  -webkit-user-select: text;
  -moz-user-select: text;
  -ms-user-select: text;
}
